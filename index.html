<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Newsletter</title>
        <link href="./js/bootstrap/bootstrap.css" rel="stylesheet">
        <script src="./js/jquery/jquery.js"></script>
        <script src="./js/bootstrap/bootstrap.js"></script>
        <link href="./js/summernote/summernote.css" rel="stylesheet">
        <script src="./js/summernote/summernote.js"></script>
        <script src="./js/newsletter/ListItem.js"></script>
    </head>

    <body style="background-color: #fafafa;">

<div id="template" style="display:none">

<div id="tplAttachments">
    <div class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                    <h4 class="modal-title">Attachments</h4>
                </div>
                <div class="modal-body">
                    <div class="attachments-list">
                        <div class="panel panel-default">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>&nbsp;</th>
                                    </tr>
                                </thead>
                                <tbody class="attachments-list-item">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="tplAttachmentUpload">
    <form class="attachments-image-input-form">
        <p>
            Select the files which should be attached to the newsletter.
        </p>

        <div class="input-group">
            <input class="attachments-image-input form-control" type="file" name="files" multiple="multiple" placeholder="Select file">
            <span class="input-group-btn">
                         <button class="btn btn-default attachments-upload" type="button">Attach</button>
                        </span>
        </div>
        <hr />
    </form>

</div>

<div id="tplAttachmentItemAction">
  <a href="#" class="btn btn-default att-item-delete" role="button">Delete</a>
</div>

<div id="tplAttachmentItem">
    <table>
        <tbody>
            <tr>
                <td class="att-item-name">Name</td>
                <td class="att-item-action" style="text-align: right"></td>
</tr>
</tbody>
</table>


<!--<div class="col-sm-6 col-md-4">
        <div class="thumbnail">
            <img src="js/newsletter/img/package-x-generic.png" alt="...">
            <div class="caption">
                <p class="att-item-name">Some filename.xls</p>
                <p><a href="#" class="btn btn-default att-item-delete" role="button">Delete</a></p>
            </div>
        </div>
    </div>-->
</div>

<div id="tplDraftItem">
    <div class="panel panel-default">
        <div class="panel-heading msg-list-header">
            <span style="font-weight: bold;" class="msg-list-subject" ></span> - modified on <span class="msg-list-modified"></span></div>
<div class="panel-body msg-list">
    <p class="msg-list-teaser list-group-item-text"></p>
</div>


</div>
</div>

<div id="tplEditor">
    <div class="panel-body msg-editor">
        <input class="msg-editor-id" type="hidden" />
        <div class="input-group" style="padding-bottom:10px">
<span class="input-group-addon" id="basic-addon1">Subject</span>
<input type="text" class="form-control msg-editor-subject">
</div>

<div class="msg-editor-summernote"></div>

<div style="text-align: right">
<button type="button" class="btn msg-editor-attachments">Attachments</button>
<button type="button" class="btn msg-editor-delete">Delete</button>
<button type="button" class="btn msg-editor-save">Save</button>
<div class="dropdown msg-editor-send dropup" style="display: inline">
<button class="btn btn-success dropdown-toggle " type="button" data-toggle="dropdown">Send
  <span class="caret"></span></button>
<ul class="dropdown-menu">
</ul>
</div>
</div>
</div>
</div>

<div id="tplArchiveItemDetail">
    <div class="panel-body msg-list-details">
        <div class="msg-list-details-msg">
        </div>
        <div style="text-align: right">

<div class="dropdown msg-archive-send dropup" style="display: inline">
<button type="button" class="btn msg-archive-attachments">Attachments</button>
<button class="btn btn-success dropdown-toggle " type="button" data-toggle="dropdown">Send again
  <span class="caret"></span></button>
<ul class="dropdown-menu">
</ul>
</div>
</div>
</div>
</div>

<div id="tplArchiveItem">
    <div class="panel panel-default">
        <div class="panel-heading msg-list-header">
            <span style="font-weight: bold;" class="msg-list-subject" ></span> - sent on <span class="msg-list-modified"></span></div>
<div class="panel-body msg-list">
    <p class="msg-list-teaser list-group-item-text"></p>
</div>

</div>
</div>

<div id="tplAddressItem">
    <div class="panel panel-default">
        <div class="panel-heading msg-list-header">
            <span style="font-weight: bold;" class="msg-list-subject" ></span>
</div>
<div class="panel-body msg-list">
    <p class="msg-list-teaser list-group-item-text"></p>
</div>

</div>
</div>

<div id="tplAddressItemEditor">
    <div class="panel-body msg-editor">
        <input class="msg-editor-id" type="hidden" />
        <p>Enter the email addresses separated by linebreaks.</p>
        <div class="input-group" style="padding-bottom:10px">
<span class="input-group-addon" id="basic-addon1">Name</span>
<input type="text" class="form-control msg-editor-name">
</div>
<div>
    <textarea class="form-control msg-editor-textarea" rows=10></textarea>
</div>
<div style="text-align: right">
<button type="button" class="btn msg-editor-delete">Delete</button>
<button type="button" class="btn msg-editor-save btn-success">Save</button>
</div>
</div>
</div>

</div>

<div id="divAttachments"></div>
<div class="container">
    <div>
        <h1>Newsletter</h1>
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#drafts">Drafts</a></li>
            <li><a data-toggle="tab" href="#archive">Archive</a></li>
            <li><a data-toggle="tab" href="#addresses">Addresses</a></li>
            <li><a data-toggle="tab" href="#about">About</a></li>
        </ul>
    </div>

    <div style="border: 1px solid #ddd; border-top: 0px; padding:20px; background-color:white;">

<div id="tabs" class="tab-content">
    <div id="drafts" class="tab-pane fade in active">

        <div style="padding-bottom:20px; text-align: right">
<button id="btnNewDraft" type="button" class="btn btn-success">Create New Draft</button>
</div>

<div id="divDrafts"></div>
</div>
<div id="archive" class="tab-pane fade">
    <h3>Archive</h3>
    <div id="divArchives">
    </div>
</div>
<div id="addresses" class="tab-pane fade">

    <div style="padding-bottom:20px; text-align: right">
<button id="btnNewAddresses" type="button" class="btn btn-success">Create new Addressbook</button>
</div>
<div id="divAddresses"></div>
</div>
<div id="about" class="tab-pane fade">

</div>

</div>
</div>


<script>

    (function (exports) {

        function newDraft() {
            (new Drafts("#divDrafts")).addNew();
        }

        function listDrafts() {
            (new Drafts("#divDrafts")).list();
        }


        function listArchives() {
            (new Archive("#divArchives")).list();
        }


        function newAddresses() {
            (new AddressBook("#divAddresses")).addNew();
        }

        function listAddresses() {
            (new AddressBook("#divAddresses")).list();
        }

        function onRefresh() {
            listArchives();
            listDrafts();
            listAddresses();
        }




        $(document).ready(function () {
            onRefresh();

            $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                onRefresh();
            })

            $("#btnNewDraft").click(newDraft);
            $('#btnNewAddresses').click(newAddresses);

        });
    })(window);
</script>


</div>
</body>

</html>